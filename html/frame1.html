<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Null Gravity Version 0.1.0</title>
    <link rel="stylesheet" href="../css/null_grav_base.css">
    <link rel="stylesheet" href="../css/jquery-ui.css">
    <link rel="stylesheet" href="../css/tabulator.css">
    <script>
        function addData(txt)
        {
            document.Node.rData.value = txt;
        }
    </script>
    <script type="text/javascript" src="../js/tabbing.js"></script>
    <script type="text/javascript" src="../js/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="../js/jquery-ui.js"></script>
    <script type="text/javascript" src="../js/tabulator.js"></script>
</head>

<body>
    
    <button class="tablink" onclick="openPage('3D-Canvas')" id="defaultOpen">3D-Canvas</button>
    <button class="tablink" onclick="openPage('Node')">Node</button>
    <button class="tablink" onclick="openPage('Table')">Table</button>

    <div id="3D-Canvas" class="tabcontent">
        <div id="container"></div>
        <div id="info">
            <a href="https://threejs.org" target="_blank" rel="noopener">three.js</a>
        </div>
    
        <script src="../node_modules/three/build/three.js"></script>
        <script src="../node_modules/three/examples/js/controls/OrbitControls.js"></script>
        <script src="../node_modules/three/examples/js/libs/stats.min.js"></script>
        <script src="../node_modules/three/examples/js/libs/dat.gui.min.js"></script>
        <script src="../js/main.js"></script>
    </div>

    <div id="Node" class="tabcontent">
        <h3>Node</h3>
        <form name="Node">
            <textarea name="rData" cols="100" rows="50"></textarea>
        </form>
    </div>

    <div id="Table" class="tabcontent">
        <h3>Table</h3>
        <div id="sample-table">
        </div>
    </div>

</body>
    <script>
        //define data
        var tabledata = [
            {id:1, name:"Oli Bob", progress:12, gender:"male", rating:1, col:"red" },
            {id:2, name:"Mary May", progress:1, gender:"female", rating:2, col:"blue" },
            {id:3, name:"Christine Lobowski", progress:42, gender:"female", rating:0, col:"green" },
            {id:4, name:"Brendon Philips", progress:100, gender:"male", rating:1, col:"orange" },
            {id:5, name:"Margret Marmajuke", progress:16, gender:"female", rating:5, col:"yellow"},
        ];

        //Build Tabulator
        var table = new Tabulator("#sample-table", {
            layout:"fitColumns",
            reactiveData: true, //turn on data reactivity
            data:tabledata, //load data into table
            columns:[
                {title:"node id", field:"id", sorter:"integer", width:200},
                {title:"Progress", field:"progress", sorter:"number", formatter:"progress"},
                {title:"Gender", field:"gender", sorter:"string"},
                {title:"Rating", field:"rating", formatter:"star", align:"center", width:100},
                {title:"Favourite Color", field:"col", sorter:"string"},
            ],
        });

        //add row to bottom of table on button click
        document.getElementById("reactivity-add").addEventListener("click", function(){
            tabledata.push({name:"IM A NEW ROW", progress:100, gender:"male"});
        });

        //remove bottom row from table on button click
        document.getElementById("reactivity-delete").addEventListener("click", function(){
            tabledata.pop();
        });

        //update name on first row in table on button click
        document.getElementById("reactivity-update").addEventListener("click", function(){
            tabledata[0].name = "IVE BEEN UPDATED";
        });
    </script>
</html>